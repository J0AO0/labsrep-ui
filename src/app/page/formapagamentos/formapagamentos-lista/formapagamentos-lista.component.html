<main>
  <p-card styleClass="card-adjust p-mt-5 p-mx-3">
    <h4>Forma de Pagamentos</h4>
    <div class="flex justify-content-between mb-2">
      <div class="flex justify-content-start mb-2">
        <div>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-raised p-button-primary"
            icon="pi pi-plus"
            pTooltip="Novo"
            tooltipPosition="top"
            routerLink="/formapagamentos/novo"
          ></button>
        </div>
        <div>
          <button
            pButton
            pRipple
            type="button"
            class="p-button-raised ml-2"
            pTooltip="Atualizar"
            tooltipPosition="top"
            icon="pi pi-refresh"
            (click)="refresh()"
          ></button>
        </div>
      </div>
      <div>
        <p-splitButton
          styleClass="p-button-primary"
          #ua
          label="Opções"
          icon="pi pi-cog"
          (onClick)="ua.onDropdownButtonClick(null)"
          [model]="items"
        ></p-splitButton>
      </div>
    </div>

    <p-table
      #tabela
      styleClass="p-datatable-striped p-datatable-gridlines"
      [columns]="cols"
      [value]="formapagamentos"
      [rowsPerPageOptions]="rowsPerPageTable"
      [rowHover]="true"
      [showCurrentPageReport]="true"
      (onLazyLoad)="changePage($event)"
      selectionMode="single"
      [reorderableColumns]="true"
      [rows]="filtro.itensPorPagina"
      [lazy]="true"
      [totalRecords]="totalRegistros"
      responsiveLayout="scroll"
    >
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th class="btnEditar">&nbsp;</th>
          <th
            *ngFor="let cols of columns"
            [pSortableColumn]="cols.field"
            [ngStyle]="{ 'min-width': cols.width }"
          >
            {{ cols.header }}
          </th>
          <th style="min-width: 150px">Status</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-formaPagamento let-columns="columns" let-rowData>
        <tr [pSelectableRow]="rowData">
          <td class="btnEditar">
            <button
              pButton
              pRipple
              type="button"
              class="p-button-text p-button-primary"
              icon="fas fa-pen"
              pTooltip="Editar"
              tooltipPosition="top"
              [routerLink]="['/formapagamentos', formaPagamento.id]"
            ></button>
          </td>
          <td
            *ngFor="let cols of columns"
            [ngStyle]="{ 'min-width': cols.width }"
            tooltipPosition="top"
            pTooltip="{{
              rowData[cols.field] && cols.data
                ? (rowData[cols.field] | date : 'dd/MM/yyyy H:mm')
                : rowData[cols.field]
            }}"
          >
            <span class="p-column-title">{{ cols.header }}:</span>
            {{
              cols.data
                ? (rowData[cols.field] | date : cols.format)
                : rowData[cols.field]
            }}
          </td>
          <td>
            {{ formaPagamento.status ? "Ativo" : "Inativo" }}
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="summary">
        <div class="flex flex-wrap justify-content-between flex-wrap card-container purple-container" (mouseenter)="verifyFocus()">
          <div class="col-12 md:col-4 lg:col-5 flex align-items-center justify-content-start" (mouseenter)="verifyFocus()">
          </div>

          
        </div>
      </ng-template>

      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td colspan="9">
            <p class="emptyMessage">Nenhum registro encontrado...</p>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</main>
